$schema: 'https://moonrepo.dev/schemas/project.json'

tasks:
  dev:
    command: 'bunx dotenv -e ../../.env -- next dev --turbo'
    local: true

  build:
    command: 'bunx dotenv -e ../../.env -- next build'
    inputs:
      - 'src/**/*'
      - 'public/**/*'
      - 'next.config.js'
      - 'package.json'
    outputs:
      - '.next'

  start:
    command: 'bunx dotenv -e ../../.env -- next start'
    deps:
      - '~:build'

  typecheck:
    command: 'tsc --noEmit'
    inputs:
      - 'src/**/*'
      - 'tsconfig.json'

  format:
    command: 'biome check --write .'
    inputs:
      - 'src/**/*'

  lint:
    command: 'biome check .'
    inputs:
      - 'src/**/*'
